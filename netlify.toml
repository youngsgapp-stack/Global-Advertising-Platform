[build]
  # 빌드 명령어 (정적 사이트이므로 빌드 불필요)
  command = ""
  # 배포 디렉토리 (루트 디렉토리)
  publish = "."

# 리다이렉트 규칙 (SPA 리다이렉트보다 우선)
# /data/* 경로는 정적 파일로 직접 제공
[[redirects]]
  from = "/data/*.geojson"
  to = "/data/:splat.geojson"
  status = 200
  force = true

[[redirects]]
  from = "/data/*.json"
  to = "/data/:splat.json"
  status = 200
  force = true

[[redirects]]
  from = "/data/*"
  to = "/data/:splat"
  status = 200
  force = true

[[headers]]
  # 모든 파일에 대한 헤더 설정
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"

[[headers]]
  # GeoJSON 파일에 대한 CORS 헤더 설정
  for = "/data/*.geojson"
  [headers.values]
    Access-Control-Allow-Origin = "*"
    Content-Type = "application/geo+json"
    Cache-Control = "public, max-age=3600"

